<% @page_title = "Instructors" %>

<div class="container-fluid">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
    <li class="breadcrumb-item active"><%= @page_title %></li>
  </ol>
  <div class="row">
    <div class="col-12">
    <!-- form flash messages -->
    <div id="flash_messages">
      <%= render "shared/flash" %>
    </div>
    <!-- add button and page title -->
    <%= render partial: "shared/table_heading", locals: { body: 'Add New Instructor', url: new_instructor_path, modalname: "#addInstructorModal" } %>

      <table class="table table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <% if user_signed_in? && current_user.userable_type == "Admin" %>
              <th>Age</th>
              <th>Salary</th>
            <% end %>
            <th>Degree</th>
            <th>Email</th>
            <th></th>
            <% if user_signed_in? && current_user.userable_type == "Admin" %>
              <th></th>
              <th></th>
            <% end %>
          </tr>
        </thead>
        <tbody id="all_instructors">
          <% @instructors.each do |instructor| %>
            <%= render instructor %>
          <% end %>
        </tbody>
      </table>

      <div class="modal fade" id="addInstructorModal" tabindex="-1" role="dialog" aria-labelledby="addInstructorModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div id="modal_flash_messages">
              <%= render "shared/flash" %>
            </div>
            <div class="modal-header">
              <h5 class="modal-title">Add Instructor</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <span id='add-form'></span>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="editInstructorModal" tabindex="-1" role="dialog" aria-labelledby="editInstructorModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Edit Instructor</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div id="edit-modal-holder" class="modal-body">
              <span id='edit-form'></span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
