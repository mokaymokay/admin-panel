<% @page_title = "#{@course.name}" %>

<div class="container-fluid">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
    <li class="breadcrumb-item active"><%= @page_title %></li>
  </ol>
  <div class="row">
    <div class="col-12">

      <%= render partial: "shared/table_heading", locals: { body: 'Add New Cohort', url: new_course_cohort_path, modalname: "#addCohortModal" } %>

      <table class="table table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Instructor</th>
            <th></th>
            <% if user_signed_in? && current_user.userable_type == "Admin" %>
              <th></th>
              <th></th>
            <% end %>
          </tr>
        </thead>
        <tbody id="all_cohorts">
          <% @cohorts.each do |cohort| %>
            <%= render cohort %>
          <% end %>
        </tbody>
      </table>

      <div class="modal fade" id="addCohortModal" tabindex="-1" role="dialog" aria-labelledby="addCohortModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add Cohort</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <span id='add-form'></span>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="editCohortModal" tabindex="-1" role="dialog" aria-labelledby="editCohortModal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Edit Cohort</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div id="edit-modal-holder" class="modal-body">
              <span id='edit-form'></span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
